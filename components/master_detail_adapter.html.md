# Master-Detail Adapter


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Settings Detail Renderer

This function renders the detail content for a settings schema using the
standard settings form.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/components/master_detail_adapter.py#L25"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_settings_detail_renderer

>  create_settings_detail_renderer (config_dir:pathlib.Path,
>                                       save_route_fn:<built-
>                                       infunctioncallable>,
>                                       reset_route_fn:<built-
>                                       infunctioncallable>)

\*Create a render function for settings detail view.

This creates a closure that captures the config_dir and route functions,
returning a render function compatible with DetailItem.\*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>config_dir</td>
<td>Path</td>
<td>Configuration directory</td>
</tr>
<tr>
<td>save_route_fn</td>
<td>callable</td>
<td>Function that returns save route URL for schema_id</td>
</tr>
<tr>
<td>reset_route_fn</td>
<td>callable</td>
<td>Function that returns reset route URL for schema_id</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>callable</strong></td>
<td><strong>Render function for detail view</strong></td>
</tr>
</tbody>
</table>

## Settings Data Loader

This function creates a data loader that provides schema information to
the render function.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/components/master_detail_adapter.py#L59"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_settings_data_loader

>  create_settings_data_loader (schema:Dict, schema_id:str)

*Create a data loader that provides schema information.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema</td>
<td>Dict</td>
<td>JSON schema</td>
</tr>
<tr>
<td>schema_id</td>
<td>str</td>
<td>Schema identifier</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>callable</strong></td>
<td><strong>Data loader function</strong></td>
</tr>
</tbody>
</table>

## Configuration Badge Helper

Check if a schema has been configured (config file exists).

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/components/master_detail_adapter.py#L74"
target="_blank" style="float:right; font-size:smaller">source</a>

### is_schema_configured

>  is_schema_configured (schema_id:str, config_dir:pathlib.Path)

*Check if a schema has been configured.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema_id</td>
<td>str</td>
<td>Schema identifier</td>
</tr>
<tr>
<td>config_dir</td>
<td>Path</td>
<td>Configuration directory</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>bool</strong></td>
<td><strong>True if config file exists</strong></td>
</tr>
</tbody>
</table>

## Settings Master-Detail Creator

This is the main adapter function that creates a `MasterDetail` instance
configured for settings.

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/components/master_detail_adapter.py#L83"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_settings_master_detail

>  create_settings_master_detail (schemas:Dict, config_dir:pathlib.Path,
>                                     save_route_fn:<built-infunctioncallable>,
>                                     reset_route_fn:<built-infunctioncallable>,
>                                     default_schema:str='general',
>                                     menu_section_title:str='Settings',
>                                     plugin_registry:Optional[Any]=None,
>                                     plugin_save_route_fn:Optional[<built-
>                                     infunctioncallable>]=None,
>                                     plugin_reset_route_fn:Optional[<built-
>                                     infunctioncallable>]=None)

\*Create a MasterDetail instance configured for settings.

This adapter function transforms the settings schema structure into
DetailItem and DetailItemGroup objects compatible with MasterDetail.\*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schemas</td>
<td>Dict</td>
<td></td>
<td>All registered schemas (from registry.get_all())</td>
</tr>
<tr>
<td>config_dir</td>
<td>Path</td>
<td></td>
<td>Configuration directory</td>
</tr>
<tr>
<td>save_route_fn</td>
<td>callable</td>
<td></td>
<td>Function that returns save route URL for schema_id</td>
</tr>
<tr>
<td>reset_route_fn</td>
<td>callable</td>
<td></td>
<td>Function that returns reset route URL for schema_id</td>
</tr>
<tr>
<td>default_schema</td>
<td>str</td>
<td>general</td>
<td>Default schema to show</td>
</tr>
<tr>
<td>menu_section_title</td>
<td>str</td>
<td>Settings</td>
<td>Title for master list</td>
</tr>
<tr>
<td>plugin_registry</td>
<td>Optional</td>
<td>None</td>
<td>Optional plugin registry</td>
</tr>
<tr>
<td>plugin_save_route_fn</td>
<td>Optional</td>
<td>None</td>
<td>Function that returns save route URL for plugin_id</td>
</tr>
<tr>
<td>plugin_reset_route_fn</td>
<td>Optional</td>
<td>None</td>
<td>Function that returns reset route URL for plugin_id</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>MasterDetail</strong></td>
<td></td>
<td><strong>Configured MasterDetail instance</strong></td>
</tr>
</tbody>
</table>

## Usage Example

``` python
# Example: Create settings master-detail
from pathlib import Path
from cjm_fasthtml_settings.core.schemas import registry
from cjm_fasthtml_settings.core.config import get_app_config_schema

# Register a sample schema
registry.register(get_app_config_schema(app_title="Test App", include_theme=False))

# Create the master-detail interface
settings_md = create_settings_master_detail(
    schemas=registry.get_all(),
    config_dir=Path("configs"),
    save_route_fn=lambda id: f"/settings/save?id={id}",
    reset_route_fn=lambda id: f"/settings/reset?id={id}",
    default_schema="general",
    menu_section_title="Settings"
)

print(f"Settings master-detail created with {len(settings_md.item_index)} items")
print(f"Items: {list(settings_md.item_index.keys())}")
```

    Settings master-detail created with 1 items
    Items: ['general']
