# Utils


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Configuration File Operations

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/core/utils.py#L24"
target="_blank" style="float:right; font-size:smaller">source</a>

### load_config

>  load_config (schema_name:str, config_dir:Optional[pathlib.Path]=None)

*Load saved configuration for a schema.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema_name</td>
<td>str</td>
<td></td>
<td>Name of the schema/configuration to load</td>
</tr>
<tr>
<td>config_dir</td>
<td>Optional</td>
<td>None</td>
<td>Directory where config files are stored</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Dict</strong></td>
<td></td>
<td><strong>Loaded configuration dictionary (empty dict if file doesnâ€™t
exist)</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/core/utils.py#L73"
target="_blank" style="float:right; font-size:smaller">source</a>

### save_config

>  save_config (schema_name:str, config:Dict[str,Any],
>                   config_dir:Optional[pathlib.Path]=None)

*Save configuration for a schema.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema_name</td>
<td>str</td>
<td></td>
<td>Name of the schema/configuration to save</td>
</tr>
<tr>
<td>config</td>
<td>Dict</td>
<td></td>
<td>Configuration dictionary to save</td>
</tr>
<tr>
<td>config_dir</td>
<td>Optional</td>
<td>None</td>
<td>Directory where config files are stored</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>bool</strong></td>
<td></td>
<td><strong>True if save succeeded, False otherwise</strong></td>
</tr>
</tbody>
</table>

## Schema Utilities

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/core/utils.py#L123"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_default_values_from_schema

>  get_default_values_from_schema (schema:Dict[str,Any])

*Extract default values from a JSON schema.*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema</td>
<td>Dict</td>
<td>JSON Schema dictionary</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Dict</strong></td>
<td><strong>Dictionary of default values extracted from
schema</strong></td>
</tr>
</tbody>
</table>

``` python
# Example: Extract defaults from a schema
from cjm_fasthtml_settings.core.config import get_app_config_schema

schema = get_app_config_schema(app_title="Test App", server_port=8000)
defaults = get_default_values_from_schema(schema)

print("Default values:")
for key, value in defaults.items():
    print(f"  {key}: {value}")
```

    Default values:
      app_title: Test App
      config_dir: configs
      auto_open_browser: True
      server_port: 8000
      server_host: 0.0.0.0
      debug_mode: False
      reload_on_change: False
      max_upload_size_mb: 100
      session_timeout_minutes: 60

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/core/utils.py#L137"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_config_with_defaults

>  get_config_with_defaults (schema_name:str, schema:Dict[str,Any],
>                                config_dir:Optional[pathlib.Path]=None)

*Get configuration with defaults merged with saved values.*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>schema_name</td>
<td>str</td>
<td></td>
<td>Name of the schema (or unique_id for grouped schemas)</td>
</tr>
<tr>
<td>schema</td>
<td>Dict</td>
<td></td>
<td>JSON Schema dictionary</td>
</tr>
<tr>
<td>config_dir</td>
<td>Optional</td>
<td>None</td>
<td>Directory where config files are stored</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Dict</strong></td>
<td></td>
<td><strong>Merged configuration with defaults and saved
values</strong></td>
</tr>
</tbody>
</table>

## Form Data Conversion

------------------------------------------------------------------------

<a
href="https://github.com/cj-mills/cjm-fasthtml-settings/blob/main/cjm_fasthtml_settings/core/utils.py#L151"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_form_data_to_config

>  convert_form_data_to_config (form_data:dict, schema:Dict[str,Any])

*Convert form data to configuration dict based on schema.*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>form_data</td>
<td>dict</td>
<td>Raw form data from request</td>
</tr>
<tr>
<td>schema</td>
<td>Dict</td>
<td>JSON Schema for type conversion</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>dict</strong></td>
<td><strong>Converted configuration dictionary</strong></td>
</tr>
</tbody>
</table>

``` python
# Example: Convert form data
from cjm_fasthtml_settings.core.config import get_app_config_schema

schema = get_app_config_schema()

# Simulate form data
form_data = {
    "app_title": "My App",
    "server_port": "8080",  # String from form
    "auto_open_browser": "on",  # Checkbox value
    "max_upload_size_mb": "250.5",  # String number
}

config = convert_form_data_to_config(form_data, schema)

print("Converted config:")
for key, value in config.items():
    print(f"  {key}: {value} ({type(value).__name__})")
```

    Converted config:
      app_title: My App (str)
      server_port: 8080 (int)
      auto_open_browser: True (bool)
      max_upload_size_mb: 250.5 (float)
      debug_mode: False (bool)
      reload_on_change: False (bool)
